---
import { Badge } from '@/components/ui/badge'
import { Icon } from 'astro-icon/components'

interface Props {
  title: string
  company: string
  period: string
  description: string
  technologies: string[]
  icon?: string
}

const { title, company, period, description, technologies, icon = 'lucide:briefcase' } = Astro.props
---

<div class="group relative flex gap-6 pb-8 last:pb-0">
  <!-- Timeline Line & Dot -->
  <div class="relative flex flex-col items-center">
    <!-- Icon Circle -->
    <div class="relative z-10 flex size-10 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-[#0066ff] to-[#338aff] shadow-lg shadow-[#0066ff]/30 transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl group-hover:shadow-[#0066ff]/40">
      <Icon name={icon} class="size-5 text-white" />
    </div>
    <!-- Vertical Line -->
    <div class="absolute top-10 h-full w-px bg-gradient-to-b from-[#0066ff]/30 to-transparent group-last:hidden dark:from-[#338aff]/30"></div>
  </div>

  <!-- Content -->
  <div class="flex-1 pt-1">
    <!-- Header -->
    <div class="mb-2 flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between sm:gap-4">
      <h3 class="text-xl font-bold transition-colors group-hover:text-[#0066ff] dark:group-hover:text-[#338aff]">
        {title}
      </h3>
      <span class="text-muted-foreground text-sm whitespace-nowrap">
        {period}
      </span>
    </div>

    <!-- Company -->
    <p class="mb-2 text-[#0066ff] dark:text-[#338aff] text-sm font-medium">
      {company}
    </p>

    <!-- Description -->
    <p class="text-muted-foreground mb-3 text-sm leading-relaxed">
      {description}
    </p>

    <!-- Technologies -->
    {technologies.length > 0 && (
      <div class="flex flex-wrap gap-2">
        {technologies.map((tech) => (
          <Badge variant="muted" className="text-xs">
            {tech}
          </Badge>
        ))}
      </div>
    )}
  </div>
</div>

